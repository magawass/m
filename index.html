<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Magawa Secondary School</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f9; }
header { background:#004466; color:white; padding:15px; text-align:center; }
nav { background:#007799; padding:10px; display:flex; justify-content:center; flex-wrap:wrap; }
nav button { background:white; border:none; margin:5px; padding:10px 20px; cursor:pointer; font-weight:bold; color:#004466; border-radius:6px; transition:0.3s; }
nav button:hover { background:#cce7ff; }
section { display:none; padding:20px; background:white; max-width:900px; margin:20px auto; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
section.active { display:block; }
input, textarea { width:100%; max-width:400px; padding:8px; margin:6px 0; }
.btn { background:#004466; color:white; border:none; padding:10px 20px; margin-top:10px; border-radius:5px; cursor:pointer; }
.btn:hover { background:#007799; }
#student-area, #admin-area { display:none; }
footer { background:#004466; color:white; text-align:center; padding:10px; margin-top:20px; }
</style>
</head>
<body>

<header>
  <h1>Magawa Secondary School</h1>
  <p>Official Student Portal</p>
</header>

<nav>
  <button onclick="showSection('home')">Home</button>
  <button onclick="showSection('about')">About</button>
  <button onclick="showSection('admissions')">Admissions</button>
  <button onclick="showSection('student')">Student Portal</button>
  <button onclick="showSection('admin')">Admin</button>
</nav>

<!-- HOME -->
<section id="home" class="active">
  <h2>Welcome to Magawa Secondary School</h2>
  <p>This is the official online portal. Students can view their results here.</p>
</section>

<!-- ABOUT -->
<section id="about">
  <h2>About Us</h2>
  <p id="about-text">Loading content...</p>
</section>

<!-- ADMISSIONS -->
<section id="admissions">
  <h2>Admissions</h2>
  <p id="admissions-text">Loading content...</p>
</section>

<!-- STUDENT PORTAL -->
<section id="student">
  <h2>Student Portal</h2>
  <div id="student-login">
    <label>Enter Exam Number:</label>
    <input type="text" id="examNumber" placeholder="e.g. 1001">
    <button class="btn" onclick="studentLogin()">Login</button>
  </div>

  <div id="student-area">
    <h3 id="student-welcome"></h3>
    <a id="result-link" href="#" target="_blank" class="btn">View/Download Result</a><br><br>
    <button class="btn" onclick="studentLogout()">Logout</button>
  </div>
</section>

<!-- ADMIN PORTAL -->
<section id="admin">
  <h2>Admin Portal</h2>
  <div id="admin-login">
    <label>Admin Password:</label>
    <input type="password" id="adminPass">
    <button class="btn" onclick="adminLogin()">Login</button>
  </div>

  <div id="admin-area">
    <h3>Upload Result (PDF)</h3>
    <input type="text" id="pdfExamNumber" placeholder="Enter Exam Number (e.g. 1001)">
    <input type="file" id="pdfFile" accept="application/pdf">
    <button class="btn" onclick="uploadPDF()">Upload PDF</button>

    <h3>Upload Logo</h3>
    <input type="file" id="logoFile" accept="image/*">
    <button class="btn" onclick="uploadLogo()">Upload Logo</button>

    <br><br>
    <button class="btn" onclick="adminLogout()">Logout</button>
  </div>
</section>

<footer>
  <p>&copy; 2025 Magawa Secondary School</p>
</footer>

<script>
// --- ADMIN PASSWORD ---
let adminPassword = 'M@gawa#2025!Admin'; // Change to your own strong password

// --- Navigation ---
function showSection(id) {
  document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

// --- Admin Login ---
function adminLogin() {
  const pass = document.getElementById('adminPass').value.trim();
  if (pass === adminPassword) {
    document.getElementById('admin-login').style.display = 'none';
    document.getElementById('admin-area').style.display = 'block';
  } else alert('Wrong password');
}
function adminLogout() {
  document.getElementById('admin-area').style.display = 'none';
  document.getElementById('admin-login').style.display = 'block';
}

// --- Student Login ---
function studentLogin() {
  let examNumber = document.getElementById('examNumber').value.trim();
  if (!examNumber) return alert('Enter Exam Number');
  examNumber = parseInt(examNumber, 10).toString().padStart(4, '0');
  const fileUrl = `https://magawass.github.io/m/results/${examNumber}.pdf`;
  fetch(fileUrl, { method: 'HEAD' }).then(res => {
    if (res.ok) {
      document.getElementById('student-login').style.display = 'none';
      document.getElementById('student-area').style.display = 'block';
      document.getElementById('student-welcome').innerText = `Welcome Candidate No: ${examNumber}`;
      document.getElementById('result-link').href = fileUrl;
    } else alert('Result not found.');
  }).catch(() => alert('Error checking result.'));
}
function studentLogout() {
  document.getElementById('examNumber').value = '';
  document.getElementById('student-login').style.display = 'block';
  document.getElementById('student-area').style.display = 'none';
}

// --- Upload PDF (manual GitHub upload guide) ---
function uploadPDF() {
  alert("To upload results:\n1. Go to your GitHub repository.\n2. Open the 'results' folder.\n3. Upload the PDF named as exam number (e.g. 1001.pdf).\n4. Students will view it instantly.");
}

// --- Upload Logo (manual GitHub upload guide) ---
function uploadLogo() {
  alert("To change logo:\n1. Go to your GitHub repository.\n2. Open the 'images' folder.\n3. Upload a new logo file named 'logo.png'.");
}
</script>

</body>
</html>
